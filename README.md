# ğŸŒŸ Lumina - æ™ºèƒ½è¯­è¨€å­¦ä¹ åº”ç”¨

> ä¸€ä¸ªç°ä»£åŒ–çš„è¯­è¨€å­¦ä¹ åº”ç”¨ï¼Œé›†æˆäº†æ™ºèƒ½è¯å…¸ã€è¯å½¢å˜åŒ–åˆ†æå’Œé—´éš”é‡å¤ç³»ç»Ÿ

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![React](https://img.shields.io/badge/React-18.2.0-61dafb.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0.0-3178c6.svg)
![Node.js](https://img.shields.io/badge/Node.js-18+-339933.svg)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Lumina æ˜¯ä¸€ä¸ªä¸“ä¸ºè¯­è¨€å­¦ä¹ è€…è®¾è®¡çš„ç°ä»£åŒ–è¯­è¨€å­¦ä¹ åº”ç”¨ã€‚å®ƒé›†æˆäº†æ™ºèƒ½è¯å…¸ç³»ç»Ÿã€AIé©±åŠ¨çš„è¯­æ³•åˆ†æå’Œç§‘å­¦çš„é—´éš”é‡å¤ç³»ç»Ÿ(SRS)ï¼Œå¸®åŠ©ç”¨æˆ·é«˜æ•ˆé˜…è¯»ã€å­¦ä¹ ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

#### ğŸ“š **æ™ºèƒ½è¯å…¸ç³»ç»Ÿ**
- **å¤šè¯æ¡æ™ºèƒ½æ˜¾ç¤º**ï¼šè¯å½¢å˜åŒ–ã€ä¸åŒè¯æ€§æ˜¾ç¤ºä¸ºç‹¬ç«‹ç¼–å·æ¡ç›®
- **è¯å½¢å˜åŒ–æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«è¯å½¢å˜åŒ–å¹¶åˆ‡æ¢åˆ°è¯æ ¹å½¢å¼ï¼ˆå¦‚"nahm" â†’ "nehmen"ï¼‰
- **æ¡ç›®åˆ†ç±»ç³»ç»Ÿ**ï¼š`variant`ï¼ˆå˜ä½“ï¼‰/`root`ï¼ˆè¯æ ¹ï¼‰/`normal`ï¼ˆæ™®é€šï¼‰ä¸‰ç§ç±»å‹
- **è¯æ¡å…³ç³»å¯è§†åŒ–**ï¼šå˜ä½“ä¸è¯æ ¹ä¹‹é—´çš„æ¸…æ™°è¿æ¥æŒ‡ç¤º
- **è¯æ€§è¿‡æ»¤åŠŸèƒ½**ï¼šæŒ‰åŠ¨è¯ã€åè¯ã€å½¢å®¹è¯ç­‰å¿«é€Ÿç­›é€‰æ¡ç›®

#### ğŸ¤– **AIå¢å¼ºå­¦ä¹ **
- **è¯­æ³•åˆ†æ**ï¼šAIé©±åŠ¨çš„è¯¦ç»†è¯­æ³•åˆ†æ
- **æ™ºèƒ½ç¿»è¯‘**ï¼šä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„ç¿»è¯‘å’Œå»ºè®®
- **ä¾‹å¥ç”Ÿæˆ**ï¼šåŸºäºä¸Šä¸‹æ–‡çš„å®ç”¨ä¾‹å¥

#### ğŸ”„ **é—´éš”é‡å¤ç³»ç»Ÿ(SRS)**
- **ç§‘å­¦è®°å¿†ç®—æ³•**ï¼šåŸºäºSM-2ç®—æ³•çš„æ™ºèƒ½å¤ä¹ è®¡åˆ’
- **å­¦ä¹ è¿›åº¦è·Ÿè¸ª**ï¼š5ä¸ªå­¦ä¹ ç­‰çº§ + å¿½ç•¥é€‰é¡¹
- **è¯æ±‡åº“ç®¡ç†**ï¼šåˆ†ç±»ã€æœç´¢å’Œç»Ÿè®¡åŠŸèƒ½

#### ğŸŒ **ç¦»çº¿æ”¯æŒ**
- **æœ¬åœ°è¯å…¸æ•°æ®åº“**ï¼šä»kaikkiä¸‹è½½è¯å…¸åˆ°æœ¬åœ°å³å¯æŸ¥è¯¢
- **ç¦»çº¿è¯å½¢åˆ†æ**ï¼šæ— éœ€ç½‘ç»œå³å¯åˆ†æè¯å½¢å˜åŒ–
- **æ•°æ®æŒä¹…åŒ–**ï¼šæµè§ˆå™¨æœ¬åœ°å­˜å‚¨æ‰€æœ‰å­¦ä¹ æ•°æ®

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### å‰ç«¯ (React + TypeScript)
- **React 18**ï¼šç°ä»£åŒ–çš„ç»„ä»¶åŒ–UI
- **TypeScript**ï¼šç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ
- **Tailwind CSS**ï¼šåŸå­åŒ–CSSæ¡†æ¶
- **Vite**ï¼šå¿«é€Ÿçš„æ„å»ºå·¥å…·

### åç«¯ (Node.js + Express)
- **è¯å…¸æœåŠ¡å™¨**ï¼šè¿è¡Œåœ¨ç«¯å£3006çš„REST API
- **SQLiteæ•°æ®åº“**ï¼šè¯å…¸æ•°æ®å­˜å‚¨
- **æ™ºèƒ½æŸ¥è¯¢å¼•æ“**ï¼šæ”¯æŒè¯å½¢å˜åŒ–æ£€æµ‹å’Œå¤šæ¡ç›®è¿”å›

### æœåŠ¡å±‚
- `wiktionaryService.ts`ï¼šè¯å…¸APIæœåŠ¡æ¥å£
- `dictionaryService.js`ï¼šæ ¸å¿ƒè¯å…¸æŸ¥è¯¢é€»è¾‘
- `llmService.ts`ï¼šAIåˆ†ææœåŠ¡
- `srsService.ts`ï¼šé—´éš”é‡å¤ç³»ç»Ÿ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

- **Node.js 18+**: [ä¸‹è½½å®‰è£…](https://nodejs.org/)
- **npm** (éš Node.js ä¸€èµ·å®‰è£…)
- **Git**: [ä¸‹è½½å®‰è£…](https://git-scm.com/)

---

## ğŸªŸ Windows å®‰è£…æŒ‡å—

### 1. å®‰è£… Node.js

è®¿é—® [Node.js å®˜ç½‘](https://nodejs.org/) ä¸‹è½½ LTS ç‰ˆæœ¬ï¼ˆæ¨è 20.xï¼‰ã€‚

å®‰è£…æ—¶ç¡®ä¿å‹¾é€‰ï¼š
- âœ… `Add to PATH`
- âœ… `Node.js runtime`

å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ **PowerShell** æˆ– **å‘½ä»¤æç¤ºç¬¦** éªŒè¯ï¼š

```powershell
node -v
npm -v
```

### 2. å…‹éš†é¡¹ç›®

```powershell
git clone https://github.com/ChenhaoMeng/Lumina.git
cd Lumina
```

### 3. å®‰è£…ä¾èµ–

```powershell
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…è¯å…¸æœåŠ¡å™¨ä¾èµ–
cd server
npm install
cd ..
```

### 4. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
GEMINI_API_KEY=your_api_key_here
```

### 5. å¯åŠ¨åº”ç”¨

**æ–¹å¼ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰ç«¯å’ŒæœåŠ¡å™¨**
```powershell
# éœ€è¦æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£

# ç»ˆç«¯ 1: å¯åŠ¨å‰ç«¯ (http://localhost:3000)
npm run dev

# ç»ˆç«¯ 2: å¯åŠ¨è¯å…¸æœåŠ¡å™¨ (ç«¯å£ 3006)
cd server
node index.js
```

**æ–¹å¼äºŒï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰**
```powershell
npm run dev:both
```

### 6. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

---

## ğŸ macOS å®‰è£…æŒ‡å—

### 1. å®‰è£… Node.js

**æ–¹å¼ä¸€ï¼šé€šè¿‡ Homebrewï¼ˆæ¨èï¼‰**
```bash
brew install node@20
```

**æ–¹å¼äºŒï¼šé€šè¿‡å®‰è£…åŒ…**
è®¿é—® [Node.js å®˜ç½‘](https://nodejs.org/) ä¸‹è½½ LTS ç‰ˆæœ¬ã€‚

éªŒè¯å®‰è£…ï¼š
```bash
node -v
npm -v
```

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/ChenhaoMeng/Lumina.git
cd Lumina
```

### 3. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…è¯å…¸æœåŠ¡å™¨ä¾èµ–
cd server
npm install
cd ..
```

### 4. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

```bash
# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
touch .env.local
```

ç¼–è¾‘ `.env.local`ï¼š
```env
GEMINI_API_KEY=your_api_key_here
```

### 5. å¯åŠ¨åº”ç”¨

**æ–¹å¼ä¸€ï¼šåˆ†ç»ˆç«¯å¯åŠ¨**

```bash
# ç»ˆç«¯ 1: å¯åŠ¨å‰ç«¯
npm run dev

# ç»ˆç«¯ 2: å¯åŠ¨è¯å…¸æœåŠ¡å™¨
cd server
node index.js
```

**æ–¹å¼äºŒï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰**
```bash
npm run dev:both
```

### 6. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

---

## ğŸ“¦ è¯å…¸æ•°æ®å‡†å¤‡

æœ¬åº”ç”¨éœ€è¦è¯å…¸æ•°æ®åº“æ–‡ä»¶æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å‡†å¤‡ï¼š

### 1. ä¸‹è½½è¯å…¸æ•°æ®

ä» [kaikki.org](https://kaikki.org/) ä¸‹è½½ Wiktionary å¯¼å‡ºæ–‡ä»¶ï¼š
ï¼ˆä¾‹å­ï¼‰
| è¯­è¨€ | ä¸‹è½½é“¾æ¥ | è§£é‡Šè¯­è¨€ |
|------|----------|----------|
| å¾·è¯­ | https://kaikki.org/dictionary/German/ | è‹±è¯­ |
| å¾·è¯­ | [https://kaikki.org/zhwiktionary/ ](https://kaikki.org/zhwiktionary/%E5%BE%B7%E8%AF%AD/index.html)| ä¸­æ–‡ |

ç‚¹å‡»é¡µé¢ä¸­çš„ "Download" è·å– JSONL æ ¼å¼æ•°æ®æ–‡ä»¶ã€‚

### 2. è½¬æ¢æ•°æ®ä¸º SQLite æ•°æ®åº“

è¿è¡Œé¡¹ç›®ä¸­çš„è½¬æ¢è„šæœ¬ï¼š

```bash
# è¿›å…¥è„šæœ¬ç›®å½•
cd scripts

# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œè½¬æ¢è„šæœ¬ï¼ˆå°† JSONL è½¬æ¢ä¸º SQLite æ•°æ®åº“ï¼‰
# æ ¼å¼: python convert_jsonl_to_sqlite.py <jsonlæ–‡ä»¶> <è¯­è¨€åç§°>
python convert_jsonl_to_sqlite.py kaikki.org-dictionary-German.jsonl German

# æå–æµ‹è¯•æ•°æ®ï¼ˆå¯é€‰ï¼Œç”¨äºå¼€å‘æµ‹è¯•ï¼‰
python extract-test-data.py
```

### 3. éªŒè¯æ•°æ®åº“æ–‡ä»¶

è½¬æ¢è„šæœ¬ä¼šè‡ªåŠ¨åœ¨ `dict/{è¯­è¨€åç§°}/` ç›®å½•ä¸‹ç”Ÿæˆæ•°æ®åº“æ–‡ä»¶ã€‚ä¾‹å¦‚å¾·è¯­æ•°æ®åº“è·¯å¾„ä¸ºï¼š

```
dict/German/german_dict.db
```

ç¡®ä¿è¯¥æ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»ã€‚

### 4. éªŒè¯å®‰è£…

å¯åŠ¨åº”ç”¨åï¼Œè¯å…¸æœåŠ¡å™¨ä¼šè‡ªåŠ¨è¿æ¥æ•°æ®åº“ã€‚å¯ä»¥åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹è¿æ¥çŠ¶æ€ã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—


### åŸºæœ¬å·¥ä½œæµç¨‹

1. **é˜…è¯»æ–‡æœ¬**
   - ç²˜è´´æˆ–è¾“å…¥æ–‡æœ¬åˆ°é˜…è¯»å™¨
   - ç‚¹å‡»ä»»æ„å•è¯æŸ¥çœ‹è¯¦ç»†åˆ†æ

2. **è¯å…¸åŠŸèƒ½**
   - ä¾§è¾¹æ æ˜¾ç¤ºå•è¯çš„**æ‰€æœ‰ç›¸å…³å½¢å¼**ï¼ˆç¼–å·æ˜¾ç¤ºï¼‰
   - **å˜ä½“å½¢å¼**ï¼ˆå¦‚"bequem"ä½œä¸º"bequemen"çš„å‘½ä»¤å¼ï¼‰
   - **è¯æ ¹å½¢å¼**ï¼ˆå¦‚"bequemen"ï¼‰

3. **ä¿å­˜è¯æ±‡**
   - è®¾ç½®å­¦ä¹ ç­‰çº§ï¼ˆ1-5æˆ–å¿½ç•¥ï¼‰
   - è‡ªåŠ¨æ£€æµ‹è¯æ ¹å¹¶ä¿å­˜
   - å˜ä½“å½¢å¼è‡ªåŠ¨é“¾æ¥åˆ°è¯æ ¹

4. **å¤ä¹ ç³»ç»Ÿ**
   - æ ¹æ®SRSç®—æ³•å®šæ—¶å¤ä¹ 
   - è·Ÿè¸ªè®°å¿†å¼ºåº¦å’Œè¿›åº¦
   - å¯è§†åŒ–å­¦ä¹ ç»Ÿè®¡

### è¯å…¸åŠŸèƒ½è¯¦è§£

#### ğŸ¯ æ™ºèƒ½è¯æ¡æ˜¾ç¤º
```
ç¤ºä¾‹ï¼š"bequem" æ˜¾ç¤ºä¸ºï¼š
1. bequem (verb Â· imperative)
   â†’ Root form: bequemen
   
2. bequem (adjective)
   comfortable, convenient; relaxed, easy
   
3. bequemen (verb Â· root)
   â†³ Variant: bequem
   to decide to something, with displeasure
```

#### ğŸ” è¯å½¢å˜åŒ–æ£€æµ‹
- **è‡ªåŠ¨æ£€æµ‹**ï¼š"nahm" â†’ è‡ªåŠ¨è¯†åˆ«ä¸º"nehmen"çš„è¿‡å»å¼
- **æ™ºèƒ½åˆ‡æ¢**ï¼šæ–‡æœ¬å­—æ®µè‡ªåŠ¨è®¾ä¸ºè¯æ ¹å½¢å¼ï¼Œå¸¦"Auto-detected"æ ‡ç­¾
- **ç”¨æˆ·è¦†ç›–**ï¼šå¯æ‰‹åŠ¨ç¼–è¾‘æ£€æµ‹åˆ°çš„è¯æ ¹å½¢å¼

#### ğŸšï¸ è¿‡æ»¤åŠŸèƒ½
- **æŒ‰è¯æ€§è¿‡æ»¤**ï¼šAll / Verbs / Nouns / Adjectives / Adverbs / Other
- **å®æ—¶ç»Ÿè®¡**ï¼š"Showing X of Y entries"
- **é¢œè‰²ç¼–ç **ï¼šä¸åŒè¯æ€§ä½¿ç”¨ä¸åŒé¢œè‰²

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
lumina/
â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”œâ”€â”€ TermSidebar.tsx  # è¯å…¸ä¾§è¾¹æ ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ Reader.tsx       # é˜…è¯»å™¨ç»„ä»¶
â”‚   â””â”€â”€ ...             # å…¶ä»–ç»„ä»¶
â”œâ”€â”€ server/             # è¯å…¸æœåŠ¡å™¨
â”‚   â”œâ”€â”€ dictionaryService.js  # è¯å…¸æŸ¥è¯¢å¼•æ“
â”‚   â””â”€â”€ index.js        # Express APIæœåŠ¡å™¨
â”œâ”€â”€ services/           # å‰ç«¯æœåŠ¡å±‚
â”‚   â”œâ”€â”€ wiktionaryService.ts   # è¯å…¸APIæ¥å£
â”‚   â”œâ”€â”€ llmService.ts  # AIæœåŠ¡
â”‚   â””â”€â”€ ...            # å…¶ä»–æœåŠ¡
â”œâ”€â”€ dict/              # è¯å…¸æ•°æ®åº“
â”‚   â””â”€â”€ German/german_dict.db  # SQLiteè¯å…¸
â””â”€â”€ ...               # é…ç½®æ–‡ä»¶
```

### æ ¸å¿ƒç»„ä»¶è¯´æ˜

#### `TermSidebar.tsx`
è¯å…¸ä¾§è¾¹æ çš„ä¸»è¦ç»„ä»¶ï¼Œè´Ÿè´£ï¼š
- æ˜¾ç¤ºå¤šè¯æ¡è¯å…¸æ•°æ®
- å¤„ç†è¯å½¢å˜åŒ–æ£€æµ‹
- ç®¡ç†è¿‡æ»¤å’Œæ’åº
- ç”¨æˆ·äº¤äº’å’Œä¿å­˜é€»è¾‘

#### `dictionaryService.js`
åç«¯è¯å…¸æœåŠ¡çš„æ ¸å¿ƒï¼Œæä¾›ï¼š
- å¤šè¯æ¡æŸ¥è¯¢å’Œå»é‡
- è¯å½¢å˜åŒ–åˆ†æå’Œåˆ†ç±»
- æ™ºèƒ½æ’åºï¼ˆå˜ä½“â†’è¯æ ¹â†’æ™®é€šï¼‰
- ç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–

#### `wiktionaryService.ts`
å‰ç«¯è¯å…¸æœåŠ¡æ¥å£ï¼Œæä¾›ï¼š
- ç»Ÿä¸€çš„åç«¯APIè°ƒç”¨
- å“åº”æ ¼å¼æ ‡å‡†åŒ–
- é”™è¯¯å¤„ç†å’Œé™çº§

### APIæ¥å£

#### è¯å…¸æŸ¥è¯¢
```
GET /api/dictionary/query/:languageCode/:word
ç¤ºä¾‹ï¼šGET /api/dictionary/query/de/bequem

å“åº”æ ¼å¼ï¼š
{
  "success": true,
  "entries": [
    {
      "word": "bequem",
      "partOfSpeech": "verb",
      "entryType": "variant",
      "rootWord": "bequemen",
      "definitions": [...]
    },
    // æ›´å¤šæ¡ç›®...
  ]
}
```

## ğŸ“Š æŠ€æœ¯ç‰¹è‰²

### è¯æ¡åˆ†ç±»ç³»ç»Ÿ
1. **`variant`ï¼ˆå˜ä½“ï¼‰**ï¼šè¯å½¢å˜åŒ–å½¢å¼
   - `isInflection: true`
   - `rootWord` æŒ‡å‘åŸå½¢
   - ç¤ºä¾‹ï¼š"bequem"ï¼ˆå‘½ä»¤å¼ï¼‰

2. **`root`ï¼ˆè¯æ ¹ï¼‰**ï¼šè¯å…¸åŸå½¢ï¼Œæœ‰å…³è”å˜ä½“
   - `hasInflections: true`
   - `variantOf` æŒ‡å‘æŸ¥è¯¢çš„å˜ä½“
   - ç¤ºä¾‹ï¼š"bequemen"

3. **`normal`ï¼ˆæ™®é€šï¼‰**ï¼šæ ‡å‡†è¯å…¸æ¡ç›®
   - å¯èƒ½æœ‰ `selfInflectionAnalysis`
   - ç¤ºä¾‹ï¼š"gut"ï¼ˆå½¢å®¹è¯ï¼‰

### æ’åºç®—æ³•
```typescript
// æ’åºä¼˜å…ˆçº§ï¼šå˜ä½“ â†’ è¯æ ¹ â†’ æ™®é€š
const typeOrder = { 'variant': 1, 'root': 2, 'normal': 3 };
entries.sort((a, b) => typeOrder[a.entryType] - typeOrder[b.entryType]);
```

## ğŸ”§ æ•…éšœæ’é™¤

### Windows

1. **ç«¯å£è¢«å ç”¨**
   ```powershell
   # æŸ¥çœ‹ç«¯å£ 3006 æ˜¯å¦è¢«å ç”¨
    netstat -ano | findstr ":3006"
   
   # ç»“æŸå ç”¨è¿›ç¨‹
   taskkill /PID <è¿›ç¨‹ID> /F
   ```

2. **Node.js ç‰ˆæœ¬é—®é¢˜**
   ```powershell
   # ä½¿ç”¨ nvm-windows ç®¡ç† Node.js ç‰ˆæœ¬
   # ä¸‹è½½: https://github.com/coreybutler/nvm-windows
   nvm install 20
   nvm use 20
   ```

3. **æƒé™é”™è¯¯**
   - ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
   - æˆ–ä½¿ç”¨ `Set-ExecutionPolicy RemoteSigned`

### macOS

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹ç«¯å£ 3006 æ˜¯å¦è¢«å ç”¨
    lsof -i :3006
   
   # ç»“æŸå ç”¨è¿›ç¨‹
   kill -9 <è¿›ç¨‹ID>
   ```

2. **Node.js ç‰ˆæœ¬é—®é¢˜**
   ```bash
   # ä½¿ç”¨ nvm ç®¡ç† Node.js ç‰ˆæœ¬
   curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
   nvm install 20
   nvm use 20
   ```

3. **æƒé™é”™è¯¯**
   ```bash
   # å¦‚æœé‡åˆ° EACCES é”™è¯¯
   sudo chown -R $(whoami) ~/.npm
   ```

### é€šç”¨é—®é¢˜

1. **AI åŠŸèƒ½ä¸å¯ç”¨**
   - æ£€æŸ¥ `.env.local` ä¸­çš„ `GEMINI_API_KEY`
   - ç¡®è®¤ç½‘ç»œè¿æ¥
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

2. **è¯å…¸æœåŠ¡å™¨æ— æ³•å¯åŠ¨**
    - æ£€æŸ¥ç«¯å£ 3006 æ˜¯å¦è¢«å ç”¨
   - ç¡®è®¤ SQLite æ•°æ®åº“æ–‡ä»¶å­˜åœ¨
   - æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

3. **æ„å»ºå¤±è´¥**
   ```bash
   # æ¸…ç†ç¼“å­˜åé‡è¯•
   rm -rf node_modules
   npm install
   ```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å·²å®Œæˆä¼˜åŒ–
- âœ… **æŸ¥è¯¢ç¼“å­˜**ï¼šé«˜é¢‘å•è¯çš„æœ¬åœ°ç¼“å­˜
- âœ… **å»é‡ç®—æ³•**ï¼šé˜²æ­¢é‡å¤æ¡ç›®æ˜¾ç¤º
- âœ… **æ‡’åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½è¯å…¸æ•°æ®
- âœ… **æ™ºèƒ½æ’åº**ï¼šä¼˜å…ˆæ˜¾ç¤ºæœ€ç›¸å…³æ¡ç›®

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ªç°æœ‰ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- **è¯å…¸æ•°æ®**ï¼šåŸºäºå¼€æºè¯å…¸é¡¹ç›®https://kaikki.org/ by https://ylonen.org/
- **AIæä¾›å•†**ï¼šGoogle Gemini, DeepSeek
- **å¼€æºç¤¾åŒº**ï¼šReact, TypeScript, Vite ç­‰

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [Issues](https://github.com/your-repo/issues)
2. æäº¤è¯¦ç»†çš„é—®é¢˜æè¿°
3. é™„ä¸Šç›¸å…³æˆªå›¾æˆ–æ—¥å¿—

---

**Lumina** - è®©è¯­è¨€å­¦ä¹ æ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆ âœ¨

## ğŸ–¥ï¸ æ¡Œé¢åº”ç”¨ (Tauri)

Lumina å¯ä»¥ä½¿ç”¨ Tauri æ„å»ºä¸ºè·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼Œæ”¯æŒ Windowsã€macOS å’Œ Linuxã€‚

### ğŸ› ï¸ ç¯å¢ƒè¦æ±‚

#### 1. å®‰è£… Rust
Tauri åŸºäº Rust æ„å»ºï¼Œéœ€è¦å…ˆå®‰è£… Rust å·¥å…·é“¾ï¼š

**Windows:**
```powershell
# ä¸‹è½½å¹¶è¿è¡Œ rustup-init.exe
# è®¿é—®: https://www.rust-lang.org/tools/install
# æˆ–ä½¿ç”¨ winget:
winget install Rustlang.Rustup
```

**macOS/Linux:**
```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

å®‰è£…å®Œæˆåé‡å¯ç»ˆç«¯ï¼ŒéªŒè¯å®‰è£…ï¼š
```bash
rustc --version
cargo --version
```

#### 2. ç³»ç»Ÿä¾èµ–
- **Windows**: éœ€è¦ Visual Studio Build Tools æˆ– Microsoft C++ Build Tools
- **macOS**: éœ€è¦ Xcode Command Line Tools (`xcode-select --install`)
- **Linux**: éœ€è¦åŸºç¡€å¼€å‘å·¥å…· (gcc, pkg-config, libgtk-3-dev ç­‰)

#### 3. é¡¹ç›®ä¾èµ–
Tauri CLI å·²ä½œä¸ºå¼€å‘ä¾èµ–åŒ…å«åœ¨é¡¹ç›®ä¸­ï¼Œæ— éœ€å•ç‹¬å®‰è£…ã€‚

### ğŸš€ å¼€å‘è¿è¡Œ

```bash
npm run dev:tauri
```

æ­¤å‘½ä»¤ä¼šå¯åŠ¨ï¼š
- **å‰ç«¯å¼€å‘æœåŠ¡å™¨**: http://localhost:3000
- **è¯å…¸æœåŠ¡å™¨**: http://localhost:3006
- **Tauri æ¡Œé¢åº”ç”¨**: ç‹¬ç«‹çª—å£

### ğŸ“¦ æ„å»ºåº”ç”¨

#### è°ƒè¯•æ„å»º
```bash
npm run build:tauri
```

ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä½äºï¼š`src-tauri/target/debug/lumina.exe` (Windows)

#### å‘å¸ƒæ„å»º
```bash
cd src-tauri
cargo build --release
```

æˆ–ä½¿ç”¨ Tauri CLI ç”Ÿæˆå®‰è£…åŒ…ï¼š
```bash
npm run build:tauri
```

å‘å¸ƒç‰ˆæœ¬ä½äºï¼š`src-tauri/target/release/`

#### å¹³å°ç‰¹å®šå®‰è£…åŒ…
Tauri ä¼šè‡ªåŠ¨ç”Ÿæˆå¹³å°ç‰¹å®šçš„å®‰è£…åŒ…ï¼š
- **Windows**: `.msi` å®‰è£…åŒ… (åœ¨ `src-tauri/target/release/bundle/msi/`)
- **macOS**: `.app` å’Œ `.dmg` (éœ€è¦ macOS ç¯å¢ƒ)
- **Linux**: `.AppImage` å’Œ `.deb`

### ğŸ¨ å›¾æ ‡é…ç½®

åº”ç”¨å›¾æ ‡ä½äº `src-tauri/icons/` ç›®å½•ï¼š

#### Windows
- `icon.ico` - Windows å›¾æ ‡æ–‡ä»¶ï¼ˆå·²æä¾›ï¼‰
- éœ€è¦å¤šç§å°ºå¯¸ï¼š16x16, 32x32, 48x48, 64x64, 128x128, 256x256

#### macOS
- `icon.icns` - macOS å›¾æ ‡æ–‡ä»¶ï¼ˆéœ€è¦è‡ªè¡Œåˆ›å»ºï¼‰
- éœ€è¦å°ºå¯¸ï¼š16x16, 32x32, 64x64, 128x128, 256x256, 512x512, 1024x1024

#### Linux
- `icon.png` - PNG æ ¼å¼å›¾æ ‡ï¼ˆ128x128 æˆ– 256x256ï¼‰

#### ç®€åŒ–é…ç½®
å¦‚æœä¸æƒ³ç®¡ç†å›¾æ ‡ï¼Œå¯ä»¥ä» `tauri.conf.json` ä¸­ç§»é™¤ `icon` æ•°ç»„ï¼Œä½¿ç”¨é»˜è®¤å›¾æ ‡ã€‚

### âš™ï¸ é…ç½®è¯´æ˜

#### ç«¯å£é…ç½®
- **å‰ç«¯å¼€å‘æœåŠ¡å™¨**: 3000 ç«¯å£ (Vite)
- **è¯å…¸æœåŠ¡å™¨**: 3006 ç«¯å£ (Express)
- **Tauri å¼€å‘æœåŠ¡å™¨**: è‡ªåŠ¨æ£€æµ‹å¯ç”¨ç«¯å£

#### æ•°æ®ç›®å½•
æ¡Œé¢åº”ç”¨çš„æ•°æ®å­˜å‚¨ä½ç½®ï¼š
- **Windows**: `%APPDATA%\com.lumina.app\`
- **macOS**: `~/Library/Application Support/com.lumina.app/`
- **Linux**: `~/.config/com.lumina.app/`

### ğŸ”§ æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜

1. **Rust å®‰è£…å¤±è´¥**
   ```bash
   # æ¸…ç† Rust å®‰è£…å¹¶é‡è¯•
   rustup self uninstall
   # é‡æ–°å®‰è£…
   ```

2. **æ„å»ºé”™è¯¯ï¼šç¼ºå°‘ WebView2**
   - Windows éœ€è¦ WebView2 Runtime
   - ä¸‹è½½ï¼šhttps://developer.microsoft.com/en-us/microsoft-edge/webview2/

3. **ç«¯å£å†²çª**
   ```bash
   # æŸ¥çœ‹å ç”¨ç«¯å£çš„è¿›ç¨‹
   # Windows:
   netstat -ano | findstr :3000
   # macOS/Linux:
   lsof -i :3000
   ```

4. **å›¾æ ‡æ–‡ä»¶ç¼ºå¤±**
   - ç¡®ä¿ `src-tauri/icons/icon.ico` å­˜åœ¨
   - æˆ–ä» `tauri.conf.json` ä¸­ç§»é™¤ `icon` é…ç½®

5. **è¯å…¸æœåŠ¡å™¨æ— æ³•å¯åŠ¨**
   ```bash
   # å•ç‹¬å¯åŠ¨æœåŠ¡å™¨æµ‹è¯•
   cd server
   npm run dev
   ```

### ğŸ“ é¡¹ç›®ç»“æ„

```
src-tauri/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.rs          # Rust å…¥å£ç‚¹
â”œâ”€â”€ Cargo.toml           # Rust ä¾èµ–é…ç½®
â”œâ”€â”€ tauri.conf.json      # Tauri åº”ç”¨é…ç½®
â”œâ”€â”€ icons/               # åº”ç”¨å›¾æ ‡
â”‚   â””â”€â”€ icon.ico        # Windows å›¾æ ‡
â””â”€â”€ target/              # æ„å»ºè¾“å‡º
    â”œâ”€â”€ debug/          # è°ƒè¯•ç‰ˆæœ¬
    â””â”€â”€ release/        # å‘å¸ƒç‰ˆæœ¬
```

### ğŸ”„ æ›´æ–° Tauri
```bash
# æ›´æ–° Tauri CLI
npm update @tauri-apps/cli

# æ›´æ–° Tauri API
npm update @tauri-apps/api

# æ›´æ–° Rust ä¾èµ–
cd src-tauri
cargo update
```

### ğŸ“ å¼€å‘æç¤º

1. **çƒ­é‡è½½**: å‰ç«¯ä»£ç ä¿®æ”¹ä¼šè‡ªåŠ¨çƒ­é‡è½½ï¼ŒRust ä»£ç ä¿®æ”¹éœ€è¦é‡å¯åº”ç”¨
2. **å¼€å‘è€…å·¥å…·**: æ¡Œé¢åº”ç”¨ä¸­æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
3. **æ—¥å¿—æŸ¥çœ‹**: æ§åˆ¶å°è¾“å‡ºæ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸­
4. **ç¯å¢ƒå˜é‡**: æ¡Œé¢åº”ç”¨å¯ä»¥è¯»å–ç³»ç»Ÿç¯å¢ƒå˜é‡

---

**ğŸ’¡ æç¤º**: æ¡Œé¢åº”ç”¨ç‰ˆæœ¬æä¾›æ›´å¥½çš„æ€§èƒ½ã€ç¦»çº¿æ”¯æŒå’Œç³»ç»Ÿé›†æˆï¼Œæ¨èç”¨äºæ—¥å¸¸ä½¿ç”¨ã€‚
